"use strict";exports.id=8,exports.ids=[8],exports.modules={3329:(e,t,l)=>{l.d(t,{detectKeylessEnvDrift:()=>u});var r=l(5554),n=l(3704),i=l(4750);let s="KEYLESS_ENV_DRIFT_DETECTED";async function u(){var e,t;if(r.h&&"undefined"==typeof window)try{let{safeParseClerkFile:u}=await l.e(723).then(l.bind(l,4144)),a=u();if(!a)return;let c=process.env.NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY,y=process.env.CLERK_SECRET_KEY,o=!!(c||y),d=!!((null==a?void 0:a.publishableKey)&&(null==a?void 0:a.secretKey)),K=!c&&!y;if(!o&&!d||K&&d||!d||!o)return;let b=!!(c&&a.publishableKey&&c===a.publishableKey),f=!!(y&&a.secretKey&&y===a.secretKey);if(!(c&&a.publishableKey&&!b||y&&a.secretKey&&!f))return;let p={publicKeyMatch:b,secretKeyMatch:f,envVarsMissing:K,keylessFileHasKeys:d,keylessPublishableKey:null!=(e=a.publishableKey)?e:"",envPublishableKey:null!=c?c:""},E=(0,n.f)({publishableKey:a.publishableKey,secretKey:a.secretKey,telemetry:{samplingRate:1}});(function(){try{if(!r.h)return!1;{let{mkdirSync:e,writeFileSync:t}=(0,i.ur)(),l=(0,i.t$)(),r=(0,i.t$)().join(process.cwd(),".clerk/.tmp/telemetry.json"),n=l.dirname(r);e(n,{recursive:!0});let u={firedAt:new Date().toISOString(),event:s};return t(r,JSON.stringify(u,null,2),{flag:"wx"}),!0}}catch(e){if((null==e?void 0:e.code)==="EEXIST")return!1;return console.warn("Failed to create telemetry flag file:",e),!1}})()&&(null==(t=E.telemetry)||t.record({event:s,eventSamplingRate:1,payload:p}))}catch(e){console.warn("Failed to detect keyless environment drift:",e)}}}};